<!DOCTYPE HTML>
<html lang="en"
    xmlns:th="https://www.thymeleaf.org"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
    <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1">
    <title>Uni Journey</title>
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <link rel="stylesheet" type="text/css" href="/static/css/registration.css">
    <link rel="stylesheet" type="text/css" href="/static/css/password-rules.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>

    <!-- Messaggio errore -->
    <div th:if="${error}" class="alert-error">
        ‚ö†Ô∏è Unable to register. Please check your data.
    </div>

    <h1>Uni Journey</h1>
    <p class="subtitle">Create your account and start your journey üöÄ</p>

    <form th:action="@{/registration}" th:object="${form}" method="post" class="card">

        <h2>Registration</h2>

        <label for="username">Username</label>
        <input type="text" th:field="*{username}" required placeholder="Enter your username">

        <label for="password">Password</label>
        <input type="password" id="password" th:field="*{password}" required placeholder="Enter your password">

        <div id="password-rules" class="info-box">
            <p>Password must meet the following criteria:</p>
            <ul>
                <li id="rule-length">At least 8 characters</li>
                <li id="rule-uppercase">At least one uppercase letter</li>
                <li id="rule-lowercase">At least one lowercase letter</li>
                <li id="rule-number">At least one number</li>
                <li id="rule-special">At least one special character (!@#$%^&*())</li>
            </ul>
        </div>

        <label for="confirm">Confirm Password</label>
        <input type="password" th:field="*{confirm}" required placeholder="Confirm your password">

        <div class="inline-field">
            <label for="firstName">First name</label>
            <input type="text" th:field="*{firstName}" required placeholder="John">
        </div>

        <div class="inline-field">
            <label for="lastName">Last name</label>
            <input type="text" th:field="*{lastName}" required placeholder="Doe">
        </div>

        <div class="inline-field">
            <label for="dob">Date of Birth</label>
            <input type="date" th:field="*{dob}" required placeholder="YYYY-MM-DD">
        </div>

        <div class="inline-field">
            <label for="role">Role</label>
            <select th:field="*{role}" id="role">
                <option value="STUDENT">Student</option>
                <option value="PROFESSOR">Professor</option>
                <option value="ADMIN">Admin</option>
            </select>
        </div>

        <label for="fiscalCode">Fiscal Code</label>
        <input type="text" th:field="*{fiscalCode}" required placeholder="Your fiscal code">

        <label for="street">Street</label>
        <input type="text" th:field="*{street}" required placeholder="Your street">

        <label for="city">City</label>
        <input type="text" th:field="*{city}" required placeholder="Your city">

        <label for="state">State</label>
        <input type="text" th:field="*{state}" required placeholder="Your state">

        <label for="zip">Zip</label>
        <input type="text" th:field="*{zip}" required placeholder="Your ZIP code">

        <label for="phone">Phone</label>
        <input type="text" th:field="*{phone}" required placeholder="+39 333 1234567">

        <div class="form-buttons">
            <input type="submit" value="Register">
            <input type="reset" value="Reset">
        </div>

        <!-- Registrazione social -->
        <div class="social-register">
            <p>Or register with:</p>
            <a th:href="@{/oauth2/authorization/google}" class="btn-social google">Google</a>
            <a th:href="@{/oauth2/authorization/github}" class="btn-social github">GitHub</a>
        </div>

        <p class="login-link">
            Already registered? <a th:href="@{/login}">Click here</a> to login.
        </p>
    </form>

    <div class="form-actions">
        <a href="/" class="home-link">üè† Home</a>
    </div>

    <script src="/static/js/password-rules.js"></script>
</body>
</html>
